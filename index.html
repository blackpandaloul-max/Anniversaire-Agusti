<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Anniversaire Agust√≠ üéâ</title>
<style>
:root{
  --bg:#0b0b0b;
  --card:#111;
  --accent:#dc143c;
  --muted:#e6e6e6;
}
body{
  margin:0;
  font-family:Arial,sans-serif;
  background: linear-gradient(180deg,#050505 0%,#0b0b0b 100%);
  color:var(--muted);
  overflow-x:hidden;
  padding:20px;
}
header{
  text-align:center;
  padding:40px 20px;
  background:linear-gradient(180deg,var(--accent),#000);
  border-radius:12px;
  margin-bottom:20px;
}
header h1{margin:0;font-size:36px;}
header p{margin:8px 0 0;color:#ffd6dc;}

#countdown{text-align:center;font-size:18px;margin-bottom:20px;}
#countdown .time{display:inline-block;background:rgba(255,255,255,0.03);padding:10px 14px;border-radius:10px;margin:0 6px;}

.card{background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);border-radius:12px;padding:18px;margin-bottom:20px;}
.grid{display:grid;grid-template-columns:1fr 360px;gap:18px;align-items:start;}
@media(max-width:900px){.grid{grid-template-columns:1fr}}

.heart{position:fixed;top:-40px;font-size:20px;pointer-events:none;opacity:0.95;transform:translateY(0);}
#overlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:9999;pointer-events:none;}
#overlay .panel{background:linear-gradient(90deg, rgba(0,0,0,0.6), rgba(20,0,0,0.6));border:2px solid rgba(255,255,255,0.06);padding:30px;border-radius:16px;text-align:center;color:white;transform:scale(0.8);transition: transform .4s ease;pointer-events:auto;}
#overlay.show{display:flex;}
#overlay.show .panel{transform:scale(1);}
#overlay h2{font-size:38px;margin:0 0 12px 0;text-shadow:0 6px 30px rgba(220,20,60,0.25);}
#overlay p{font-size:20px;margin:0 0 12px 0;color:#ffe6ea;}
  #overlay .closeBtn{margin-top:10px;display:inline-block;background:var(--accent);color:white;padding:8px 12px;border-radius:10px;cursor:pointer;text-decoration:none;}

#confetti-canvas{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:9998;}

footer{color:#999;text-align:center;margin-top:18px;font-size:13px;}
</style>
</head>
<body>

<div class="wrap">
<header>
<h1>üéÇ Joyeux 17√®me Anniversaire Agust√≠ ‚ù§Ô∏è</h1>
<p>Met un petit mot pour Agusti bogoss</p>
</header>

<div id="countdown">
<span>Compte √† rebours jusqu‚Äôau grand moment :</span>
<span class="time" id="days">--j</span>
<span class="time" id="hours">--h</span>
<span class="time" id="minutes">--m</span>
<span class="time" id="seconds">--s</span>
</div>

<div class="grid">
<!-- Left: Form + Messages -->
<section class="card">
<h2>üì¨ Laisse un message</h2>
<iframe 
src="https://docs.google.com/forms/d/e/1FAIpQLSdvtjXWe_PR2TGo1p7vK5auZOUzAo-H81PVJZqoSsQ8bzsSVw/viewform?embedded=true" 
width="100%" height="900" frameborder="0" marginheight="0" marginwidth="0">Chargement‚Ä¶</iframe>

<hr style="border:none;height:18px">
<h2>üíå Messages re√ßus :</h2>
<iframe 
src="https://docs.google.com/spreadsheets/d/e/2PACX-1vSHRXor6OLBeikq2SSUHAVLcfeRjI9iKFF-qb4q3BK8df-5-a_S_EAJzhUVjrOTz1LynUi_JjcbynL9/pubhtml?widget=true&headers=false" 
width="100%" height="400" frameborder="0"></iframe>
</section>

<!-- Right: Infos -->
<aside class="card">
<strong>Infos</strong>
<p style="color:#ddd;margin-top:8px">Les messages sont stock√©s dans Google Sheets et affich√©s ici automatiquement.</p>
<p style="margin-top:12px;color:#ffd6dc"><strong>Animation sp√©ciale :</strong><br>16 novembre √† 00:20 (Europe/Paris)</p>
<p style="margin-top:10px;color:#ccc">Conseil : sur mobile, l‚Äôaudio peut n√©cessiter un tap pour d√©marrer.</p>
</aside>
</div>

<footer>¬© made by koko ‚Ä¢ üçì‚ù§Ô∏è</footer>
  </div>

<canvas id="confetti-canvas"></canvas>
<div id="overlay">
<div class="panel">
<h2 id="overlay-title">Joyeux anniversaire Agust√≠ !</h2>
<p id="overlay-msg">Joyeux anniversaire mon c≈ìur, je suis officiellement plus une cougar!! üçì‚ù§Ô∏è</p>
<a class="closeBtn" id="closeOverlay">Fermer</a>
</div>
</div>

<script>
// Hearts animation
function spawnHeart() {
  const el = document.createElement('div');
  el.className='heart';
  el.innerText='‚ù§';
  el.style.left=Math.random()*100+'vw';
  el.style.fontSize=(12+Math.random()*28)+'px';
  el.style.opacity=(0.6+Math.random()*0.4);
  document.body.appendChild(el);
  const duration=5000+Math.random()*6000;
  el.animate([{transform:'translateY(0) rotate(0deg)',opacity:el.style.opacity},{transform:'translateY(120vh) rotate(360deg)',opacity:0.1}],{duration:duration,iterations:1,easing:'linear'});
  setTimeout(()=>el.remove(),duration+200);
}
setInterval(spawnHeart,600);

// Countdown
const targetISO='2025-11-16T00:20:00+01:00';
const targetTime=new Date(targetISO).getTime();
function updateCountdown(){
  const now=Date.now();
  let diff=targetTime-now;
  if(diff<=0){
    document.getElementById('days').innerText='00j';
    document.getElementById('hours').innerText='00h';
    document.getElementById('minutes').innerText='00m';
    document.getElementById('seconds').innerText='00s';
    if(!window.__surprise_done){window.__surprise_done=true;triggerSurprise();}
    return;
  }
  const d=Math.floor(diff/(1000*60*60*24)); diff-=d*(1000*60*60*24);
  const h=Math.floor(diff/(1000*60*60)); diff-=h*(1000*60*60);
  const m=Math.floor(diff/(1000*60)); diff-=m*(1000*60);
  const s=Math.floor(diff/1000);
  document.getElementById('days').innerText=String(d).padStart(2,'0')+'j';
  document.getElementById('hours').innerText=String(h).padStart(2,'0')+'h';
  document.getElementById('minutes').innerText=String(m).padStart(2,'0')+'m';
  document.getElementById('seconds').innerText=String(s).padStart(2,'0')+'s';
}
updateCountdown();
setInterval(updateCountdown,1000);

// Overlay surprise
const overlay=document.getElementById('overlay');
document.getElementById('closeOverlay').addEventListener('click',()=>overlay.classList.remove('show'));
function triggerSurprise(){
  overlay.classList.add('show');
  const heartInterval=setInterval(()=>{for(let i=0;i<6;i++) spawnHeart();},200);
  spawnConfetti(200);
  setTimeout(()=>{overlay.classList.remove('show');clearInterval(heartInterval);},18000);
}

// Confetti canvas
const confettiCanvas=document.getElementById('confetti-canvas');
const ctx=confettiCanvas.getContext('2d');
let pieces=[];
function resizeCanvas(){confettiCanvas.width=window.innerWidth;confettiCanvas.height=window.innerHeight;}
window.addEventListener('resize',resizeCanvas);
resizeCanvas();
function random(min,max){return Math.random()*(max-min)+min;}
function spawnConfetti(count){for(let i=0;i<count;i++){pieces.push({x:random(0,confettiCanvas.width),y:random(-confettiCanvas.height,0),w:random(6,12),h:random(6,14),r:random(0,360),speed:random(2,6),rotSpeed:random(-8,8),color:Math.random()>0.5?'#dc143c':'#000'});}}
function drawConfetti(){ctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);pieces.forEach((p,i)=>{p.y+=p.speed;p.r+=p.rotSpeed;ctx.save();ctx.translate(p.x,p.y);ctx.rotate(p.r*Math.PI/180);ctx.fillStyle=p.color;ctx.fillRect(-p.w/2,-p.h/2,p.w,p.h);ctx.restore();if(p.y>confettiCanvas.height+20) pieces.splice(i,1);});requestAnimationFrame(drawConfetti);}
drawConfetti();
function startConfettiBurst(ms){spawnConfetti(250);for(let i=1;i<=4;i++){setTimeout(()=>spawnConfetti(120),i*400);}}
</script>

<!-- YouTube music -->
<iframe width="0" height="0" src="https://www.youtube.com/embed/C4_REFc14ko?autoplay=1&loop=1&playlist=C4_REFc14ko" frameborder="0" allow="autoplay"></iframe>

</body>
</html>
